# =============================================================================
# terraform.tfvars.example
# Copy to terraform.tfvars and fill in your values
# NEVER commit terraform.tfvars to git!
# =============================================================================

# AWS Configuration
aws_region  = "us-east-1"
aws_profile = null  # or "your-profile-name"

# Project
project_name = "service-checker"
environment  = "dev"

common_tags = {
  Project     = "service-checker"
  Environment = "dev"
  ManagedBy   = "terraform"
  Owner       = "pavel"
}

# Networking
vpc_cidr             = "10.0.0.0/16"
public_subnet_cidrs  = ["10.0.1.0/24", "10.0.2.0/24"]
private_subnet_cidrs = ["10.0.10.0/24", "10.0.11.0/24"]

# EC2 Instances
frontend_instance_type = "t2.micro"   # Free Tier
backend_instance_type  = "t3.small"   # 2GB RAM for all backend services
frontend_key_name      = "your-key-name"  # CHANGE THIS!
backend_key_name       = "your-key-name"  # CHANGE THIS!

# RDS PostgreSQL
db_instance_class      = "db.t3.micro"  # Free Tier
db_name                = "movies"
db_username            = "postgres"
db_password            = "CHANGE_ME_STRONG_PASSWORD"  # CHANGE THIS!
db_engine_version      = "15.4"
db_allocated_storage   = 20
db_skip_final_snapshot = true
db_publicly_accessible = false

# S3
s3_bucket_name  = ""  # Leave empty for auto-generated name
s3_force_destroy = true

# SQS
sqs_queue_name         = "service-checker-tasks"
sqs_visibility_timeout = 30

# ECS
ecs_cluster_name = "service-checker-cluster"

# Container resources
frontend_task_cpu    = 512   # 0.5 vCPU
frontend_task_memory = 768   # MB
backend_task_cpu     = 1536  # 1.5 vCPU
backend_task_memory  = 1792  # MB

# Container images
flask_app_image   = "ghcr.io/miracleqxz/k8s-flask-app:aws"
nginx_image       = "nginx:alpine"
redis_image       = "redis:7-alpine"
meilisearch_image = "getmeili/meilisearch:latest"
consul_image      = "hashicorp/consul:latest"
prometheus_image  = "prom/prometheus:latest"
grafana_image     = "grafana/grafana:latest"

# Lambda - Backend Control
lambda_function_name       = "backend-control"
heartbeat_timeout_minutes  = 5
heartbeat_interval_seconds = 60

# DynamoDB
dynamodb_table_name = "backend-state"

# CloudWatch
log_retention_days = 7

# Domain & SSL (optional)
domain_name            = ""  # e.g., "myapp.example.com"
create_ssl_certificate = false

# Security - SSH Access
allowed_ssh_cidrs  = ["0.0.0.0/0"]  # RESTRICT IN PRODUCTION!
allowed_http_cidrs = ["0.0.0.0/0"]

# Service Configuration
meilisearch_master_key = ""  # Optional
grafana_admin_password = "admin"  # CHANGE IN PRODUCTION!
